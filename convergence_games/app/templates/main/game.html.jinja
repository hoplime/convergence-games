{% extends "shared/_layout.html.jinja" %}
{% block title %}{{ game.title }} - Convergence 2024{% endblock %}
{% block content %}
    <title>{{ game.title }} - Convergence 2024</title>
    <div class="mx-auto flex max-w-screen-lg flex-col gap-2">
        <h1 class="text-2xl font-semibold antialiased">{{ game.title }}</h1>
        <h2 class="text-xl antialiased">{{ game.system.name }} | Run by {{ game.gamemaster.name }}</h2>
        {{ render_partial('shared/partials/game_quick_info.html.jinja', game=game) }}
        <p class="whitespace-pre-line">{{ game.description }}</p>
        {% if game.content_warnings %}
            <p>
                Content Warnings:
                {% for content_warning in game.content_warnings %}{{ content_warning.name }}{% if not loop.last %},&nbsp;{% endif %}{% endfor %}
            </p>
        {% endif %}
        {% if FLAG_SCHEDULE %}
            <h2 class="text-xl antialiased">Sessions</h2>
            <ul class="flex flex-col">
                {% for table_allocation in game.table_allocations %}
                    <li class="flex flex-row gap-2">
                        <span>
                            {{ table_allocation.time_slot.start_time.strftime('%H:%M') }} -
                            {{ table_allocation.time_slot.end_time.strftime('%H:%M') }} on
                            {{ table_allocation.time_slot.start_time.strftime('%A') }} @
                            {{ table_allocation.table.short_description }}
                        </span>
                        {% if table_allocation.table.private %}
                            <span>
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    class="bi bi-1-square-fill inline"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm7.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383z"
                                    />
                                </svg>
                                Single Table Room
                            </span>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}
