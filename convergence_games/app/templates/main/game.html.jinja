{% extends "shared/_layout.html.jinja" %}
{% block title %}{{ game.title }} - Convergence 2024{% endblock %}
{% block content %}
    <title>{{ game.title }} - Convergence 2024</title>
    <div class="mx-auto flex max-w-screen-lg flex-col gap-2">
        <h1 class="text-2xl font-semibold antialiased">{{ game.title }}</h1>
        <h2 class="text-xl antialiased">{{ game.system.name }} | Run by {{ game.gamemaster.name }}</h2>
        {{ render_partial('shared/partials/game_quick_info.html.jinja', game=game) }}
        <p class="whitespace-pre-line">{{ game.description }}</p>
        {% if game.content_warnings %}
            <p>
                Content Warnings:
                {% for content_warning in game.content_warnings %}{{ content_warning.name }}{% if not loop.last %},&nbsp;{% endif %}{% endfor %}
            </p>
        {% endif %}
        {% if FLAG_SCHEDULE %}
            <h2 class="text-xl antialiased">Sessions</h2>
            <form>
                <ul class="flex flex-col">
                    {% for table_allocation in game.table_allocations %}
                        <li class="flex flex-row">
                            <span>
                                {{ table_allocation.time_slot.start_time.strftime('%H:%M') }} -
                                {{ table_allocation.time_slot.end_time.strftime('%H:%M') }} on
                                {{ table_allocation.time_slot.start_time.strftime('%A') }} @
                                {{ table_allocation.table.short_description }}
                            </span>
                        </li>
                    {% endfor %}
                </ul>
            </form>
        {% endif %}
        <p class="text-sm text-warning">Note: Game details are subject to change until the schedule is finalised.</p>
    </div>
{% endblock %}
