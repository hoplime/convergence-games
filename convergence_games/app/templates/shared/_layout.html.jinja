<!doctype html>
<html>
    <head>
        {% block head %}
            {% block title_element %}
                <title>{% block title %}Convergence 2024{% endblock %}</title>
            {% endblock %}
            <meta charset="utf-8" />
            <!-- Favicon -->
            <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
            <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
            <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
            <link rel="manifest" href="/site.webmanifest" />
            <!-- Libraries -->
            <script src="https://unpkg.com/htmx.org@2.0.0"></script>
            <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
            <script src="https://cdn.jsdelivr.net/npm/theme-change@2.0.2/index.js"></script>
            <!--
        Hey there Convergence attendee! Thanks for inspecting the HTML of this website.
        Come to Jacob Cheatley and say the secret passphrase "Lime Copper Frog".
        If he still remembers that he set up this comment, he'll give you a prize.
        If you want to view the source code, visit https://github.com/jacobcheatley/convergence-games and have a look around.
        -->
            <link href="{{ url_for('static',path='/css/style.css') }}" rel="stylesheet" />
            <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0" />
            <style>
                html {
                    overflow-y: scroll;
                    scrollbar-gutter: stable both-edges;
                }
            </style>
        {% endblock %}
    </head>
    <body>
        <div id="wrapper" class="w-full">
            {% block wrapper %}
                <nav class="navbar">
                    <div class="navbar-start hidden md:inline-flex">
                        <button
                            class="btn btn-ghost text-xl text-accent md:inline-flex"
                            hx-get="/"
                            hx-target="#content"
                            hx-push-url="true"
                            _="on load or htmx:load from #wrapper if window.location.pathname == '/' add .text-accent to me else remove .text-accent from me"
                        >
                            <img src="{{ url_for('static', path='images/convergence-logo-min.svg') }}" class="w-5" />
                            <span class="font-header">Convergence 2024</span>
                        </button>
                    </div>
                    <div
                        class="navbar-end flex w-full justify-around justify-items-center md:w-1/2 md:justify-end -md:mx-auto"
                    >
                        {# Home #}
                        <button
                            class="btn btn-ghost flex-col gap-0 md:hidden"
                            hx-get="/"
                            hx-target="#content"
                            hx-push-url="true"
                            _="on load or htmx:load from #wrapper if window.location.pathname == '/' add .text-accent to me else remove .text-accent from me"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-house-door-fill"
                                viewBox="0 0 16 16"
                            >
                                <path
                                    d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"
                                />
                            </svg>
                            <span class="text-xs">Home</span>
                        </button>
                        {# Games #}
                        <button
                            class="btn btn-ghost flex-col gap-0"
                            hx-get="/games"
                            hx-target="#content"
                            hx-push-url="true"
                            _="on load or htmx:load from #wrapper if window.location.pathname.startsWith('/games') add .text-accent to me else remove .text-accent from me"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-dice-6-fill"
                                viewBox="0 0 16 16"
                            >
                                <path
                                    d="M3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3zm1 5.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m8 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m1.5 6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M12 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M4 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"
                                />
                            </svg>
                            <span class="text-xs">Games</span>
                        </button>
                        {% if FLAG_USERS and FLAG_SCHEDULE and user %}
                            {# Schedule #}
                            <button
                                class="btn btn-ghost flex-col gap-0"
                                hx-get="/schedule"
                                hx-target="#content"
                                hx-push-url="true"
                                _="on load or htmx:load from #wrapper if window.location.pathname.startsWith('/schedule') add .text-accent to me else remove .text-accent from me"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    class="bi bi-calendar-check"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"
                                    />
                                    <path
                                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"
                                    />
                                </svg>
                                <span class="text-xs">Schedule</span>
                            </button>
                        {% endif %}
                        {% if FLAG_USERS %}
                            {# Login #}
                            <button
                                class="btn btn-ghost flex-col gap-0"
                                hx-get="/me"
                                hx-target="#content"
                                hx-push-url="true"
                                _="
                        on load or htmx:load from #wrapper
                        if window.location.pathname.startsWith('/me')
                            add .text-accent to me else remove .text-accent from me
                            end
                            get (<span/> in me)
                            then
                                if cookies.email
                                set its innerText to '{{ user.name.split(" ")[0] if user else "Profile" }}'
                                else
                                set its innerText to 'Login'
                            end
                        "
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    class="bi bi-person-fill"
                                    viewBox="0 0 16 16"
                                >
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                                </svg>
                                <span class="text-xs">Login</span>
                            </button>
                        {% endif %}
                    </div>
                </nav>
                <main id="content" class="px-2">
                    {% block content %}
                    {% endblock %}
                </main>
                <footer class="footer footer-center gap-4 p-4">
                    <aside>
                        <p>&copy; 2024 Waikato Role-playing Guild</p>
                    </aside>
                    <nav>
                        <div class="grid grid-flow-col gap-4">
                            <a href="https://discord.gg/4wBtAG2rjt" target="_blank">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor"
                                    class="bi bi-discord h-4 w-4"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"
                                    />
                                </svg>
                            </a>
                            <a href="https://www.facebook.com/events/1773962436382131/" target="_blank">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor"
                                    class="bi bi-facebook h-4 w-4"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"
                                    />
                                </svg>
                            </a>
                            <a href="https://www.instagram.com/waikatorpguild/" target="_blank">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor"
                                    class="bi bi-instagram h-4 w-4"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"
                                    />
                                </svg>
                            </a>
                            <a href="http://eepurl.com/ifSEsv" target="_blank">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor"
                                    class="bi bi-envelope-plus-fill h-4 w-4"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 4.697v4.974A4.5 4.5 0 0 0 12.5 8a4.5 4.5 0 0 0-1.965.45l-.338-.207z"
                                    />
                                    <path
                                        d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"
                                    />
                                </svg>
                            </a>
                            {# Theme Controller #}
                            <button data-toggle-theme="light,dark">
                                <!-- sun icon -->
                                <svg
                                    class="h-4 w-4 fill-current dark:hidden"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                                    />
                                </svg>

                                <!-- moon icon -->
                                <svg
                                    class="hidden h-4 w-4 fill-current dark:block"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"
                                    />
                                </svg>
                            </button>
                        </div>
                    </nav>
                    <aside>
                        <p class="text-xs font-thin text-base-100">No hidden dragons here! Scroll back up.</p>
                    </aside>
                </footer>
                {{ render_partial('shared/partials/modal_dialog.html.jinja') }}
            {% endblock %}
        </div>
        {% if DEBUG %}{{ hot_reload.script(url_for('hot-reload')) | safe }}{% endif %}
    </body>
</html>
