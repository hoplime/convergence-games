{% set blur_on_click = '_="on click js document.activeElement.blur()"' %}
<nav class="navbar">
    <div class="flex-1">
        <a class="btn btn-ghost text-xl normal-case" href="/">Convergence</a>
    </div>
    <div class="flex gap-2">
        {# <a hx-get="/" hx-target="#content" hx-push-url="true">
            <div class="btn btn-ghost btn-circle">
                <div class="bg-base-300 w-10 rounded-full p-1">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        class="size-full"
                        viewBox="0 0 24 24"
                    >
                        <path
                            fill="currentColor"
                            fill-rule="evenodd"
                            d="M12.707 2.293a1 1 0 0 0-1.414 0l-7 7l-2 2a1 1 0 1 0 1.414 1.414L4 12.414V19a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-6.586l.293.293a1 1 0 0 0 1.414-1.414z"
                            clip-rule="evenodd"
                        />
                    </svg>
                </div>
            </div>
        </a> #}
        <div class="dropdown dropdown-end">
            <div tabindex="0" class="btn btn-ghost btn-circle avatar">
                <div class="bg-base-300 w-10 rounded-full p-1">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        class="size-full"
                        viewBox="0 0 24 24"
                    >
                        <path
                            fill="currentColor"
                            fill-rule="evenodd"
                            d="M8 7a4 4 0 1 1 8 0a4 4 0 0 1-8 0m0 6a5 5 0 0 0-5 5a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3a5 5 0 0 0-5-5z"
                            clip-rule="evenodd"
                        />
                    </svg>
                </div>
            </div>
            <ul tabindex="0" class="menu dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow">
                {% if request.user %}
                    <li class="menu-title">{{ request.user.full_name }}</li>
                    <li>
                        <a hx-get="/profile" hx-target="#content" hx-push-url="true" {{ blur_on_click }}>Profile</a>
                    </li>
                    <li>
                        <a hx-get="/my-submissions" hx-target="#content" hx-push-url="true" {{ blur_on_click }}
                            >My Submissions</a
                        >
                    </li>
                    <li>
                        <a hx-get="/settings" hx-target="#content" hx-push-url="true" {{ blur_on_click }}>Settings</a>
                    </li>
                    <li></li>
                    <li>
                        <a hx-post="/oauth2/logout" hx-target="#content" hx-push-url="true" {{ blur_on_click }}
                            >Logout</a
                        >
                    </li>
                {% else %}
                    <li class="menu-title">Not Logged In</li>
                    <li>
                        <a hx-get="/profile" hx-target="#content" hx-push-url="true" {{ blur_on_click }}>Login</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
