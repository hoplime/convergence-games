<Page>
    {% block content %}
        <title>Submit Game - Convergence 2025</title>
        <div>
            <h1 class="text-xl font-bold">Submit Game</h1>
            <fieldset class="fieldset bg-base-200 border-base-300 rounded-box gap-4 border p-4">
                <legend class="fieldset-legend">Event Information</legend>
                <p>Thanks for choosing to submit a game to Convergence 2025!</p>
                <p>
                    If your game is accepted you'll be eligible for free tickets to Convergence, and goody bags if you
                    run 3 or more sessions, so don't buy a ticket just yet - look out for an email.
                </p>
                <p>TODO: A little more info here, and a preamble for the JIST of what makes a good game.</p>
                <Collapse class="collapse-arrow border">
                    <input type="checkbox" />
                    <CollapseTitle><b>What Makes A Great Game Submission?</b></CollapseTitle>
                    <CollapseContent class="flex flex-col gap-4">
                        Here's where a bunch of content would go, but I don't have it yet.
                    </CollapseContent>
                </Collapse>
            </fieldset>
            <form>
                <button type="submit" disabled class="hidden" aria-hidden="true"></button>
                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box gap-4 border p-4">
                    <legend class="fieldset-legend">Game Information</legend>
                    <span>
                        This information will be publicly visible for players to decide their preferences. You'll be
                        able to edit this until shortly before the event.
                    </span>
                    {# Title #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Title <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Title of the game</p>
                            <p>e.g. "A Wild Sheep Chase" or "Gatsby and the Great Race"</p>
                        </TooltipContent>
                    </Tooltip>
                    <div>
                        <input type="text" class="input" placeholder="Title" name="title" maxlength="100" required />
                        <MaxLengthIndicator />
                        <ErrorHolder name="title" />
                    </div>

                    {# System #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">System <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Which RPG system does your one-shot use?</p>
                            <p>e.g. "Dungeons & Dragons 5e" or "Blades in the Dark"</p>
                        </TooltipContent>
                    </Tooltip>
                    <div>
                        <forms.search.SearchContainer
                            name="system"
                            placeholder="Search for a system..."
                        ></forms.search.SearchContainer>
                        <ErrorHolder name="system" />
                    </div>

                    {# Tagline #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Tagline <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Up to 140 characters to grab attention.</p>
                            <p>
                                e.g. "The King is dead! And one of you did it. Will you betray the kingdom, or betray
                                your friends and find the killer?"
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <div>
                        <div class="flex items-center gap-4">
                            <input
                                type="text"
                                class="input"
                                placeholder="Tagline"
                                name="tagline"
                                maxlength="140"
                                required
                            />
                            <MaxLengthIndicator />
                        </div>
                        <ErrorHolder name="tagline" />
                    </div>

                    {# Description #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Description <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>A full description of your game.</p>
                            <p>
                                Include as much detail as you need, typically a few paragraphs. A good description sets
                                out the world, describes what players will be doing, anything special and unique about
                                the system and scenario, and gives players a fair idea of what the session might be
                                like.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <utilities.TipTap form_input_name="description" />
                    <ErrorHolder name="description" />

                    {# Genre #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Genres <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>What movie/book/game 'genres' describe your one-shot?</p>
                            <p>e.g. "Fantasy", "Cyberpunk", "Political Thriller"</p>
                            <p>Pick 1-5</p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.search_checks.SearchCheckContainer
                        name="genre"
                        placeholder="Search for genres..."
                        :suggested_on_empty="true"
                    ></forms.search_checks.SearchCheckContainer>
                    <ErrorHolder name="genre" />

                    {# Tone #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Tone <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>A rough guide for the <i>target</i> tone of the game.</p>
                        </TooltipContent>
                    </Tooltip>
                    {% for tone in tones %}
                        <label>
                            <input type="radio" name="tone" class="radio" value="{{ tone }}" required />
                            <span>{{ tone }}</span>
                        </label>
                    {% endfor %}
                    <ErrorHolder name="tone" />

                    {# Content warnings #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Content Warnings <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>
                                There may be content in your game which are common phobias, or more horrific/mature
                                themes. Make sure you note anything you know may come up so people join games where they
                                are comfortable.
                            </p>
                            <p>
                                Convergence will be using the X-Card and Open Table Policy, by submitting you agree to
                                use these two safety tools at minimum.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.search_checks.SearchCheckContainer
                        name="content_warning"
                        placeholder="Search for content warnings..."
                        :suggested_on_empty="true"
                    ></forms.search_checks.SearchCheckContainer>
                    <ErrorHolder name="content_warning" />

                    {# Crunch/weight #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Complexity <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Read more info for an explanation of the complexity scale</p>
                        </TooltipContent>
                    </Tooltip>
                    <Collapse class="collapse-arrow border">
                        <input type="checkbox" />
                        <CollapseTitle>More Info</CollapseTitle>
                        <CollapseContent class="flex flex-col gap-4">
                            <!-- prettier-ignore-start -->
                            <h1 class="font-semibold">How much complexity does your session present for players? Consider:</h2>
                            <ul class="list-disc pl-4">
                                <li>How long does it take for a new player to understand the core rules?</li>
                                <li>How much reference material do players need?</li>
                                <li>How much additional complexity (rules, mechanics, options) will emerge during play?</li>
                            </ul>

                            <h1 class="font-semibold">Use this scale to rate your game:</h1>

                            <h2 class="font-semibold">Nearly Nothing</h2>
                            <ul class="list-disc pl-4">
                                <li>No explanation needed, or takes under a minute to grasp.</li>
                                <li>Players need no reference materials.</li>
                                <li>Mechanics are extremely minimal, such as a single rule (e.g., “Roll a d6, 5-6 = success”).</li>
                                <li>No character sheets or only the simplest notes.</li>
                            </ul>
                            <ul>Examples: Freeform roleplay, single-die resolution without modifiers.</ul>

                            <h2 class="font-semibold">Light</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes 1-5 minutes to explain.</li>
                                <li>Players may need a small reference (e.g., a simple cheat sheet or note card).</li>
                                <li>Uses a single resolution mechanic with minimal stats.</li>
                                <li>Character sheets are small, typically a few attributes or keywords.</li>
                            </ul>
                            <i>Examples: Honey Heist, Wanderhome, many one-page RPGs.</i>

                            <h2 class="font-semibold">Medium</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes up to 10 minutes to teach.</li>
                                <li>Players may need a one-page reference sheet.</li>
                                <li>Mechanics may involve multiple dice types, a multi-step resolution process, or stats that modify rolls.</li>
                                <li>Character sheets may have several attributes, skills, or equipment that matter in play.</li>
                                <li>Occasional rule lookups may be needed.</li>
                            </ul>
                            <i>Examples: Call of Cthulhu 7e, Mörk Borg, many PbtA (Powered by the Apocalypse), many OSR (Old School Renaissance) games.</i>

                            <h2 class="font-semibold">Heavy</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes 10+ minutes to explain, or assumes prior RPG knowledge.</li>
                                <li>Players may need multiple pages of reference material.</li>
                                <li>Mechanics involve multiple types of rolls, modifiers, and conditions.</li>
                                <li>Character sheets contain many stats, abilities, and equipment options.</li>
                                <li>Rule lookups and referencing mechanics are common during play.</li>
                            </ul>
                            <i>Examples: Dungeons & Dragons 5e, Pathfinder 2e.</i>

                            <h2 class="font-semibold">Extra heavy</h2>
                            <ul class="list-disc pl-4">
                                <li>Learning the system may require dedicated reading or prior experience with RPGs.</li>
                                <li>Players may need multi-page reference sheets or books at the table.</li>
                                <li>Character sheets are complex, often with multiple interconnected stats, abilities, and systems.</li>
                                <li>Resolution mechanics can be intricate, requiring extended rule lookups or calculations.</li>
                                <li>Games may include deep subsystems (e.g., crafting, downtime, detailed combat maneuvers) that add significant decision-making overhead.</li>
                            </ul>
                            <i>Examples: Shadowrun (various editions), Rolemaster, GURPS (with full options), Phoenix Command, Pathfinder with extensive supplements.</i>
                            <!-- prettier-ignore-end -->
                        </CollapseContent>
                    </Collapse>
                    {% for crunch in crunches %}
                        <label>
                            <input type="radio" name="crunch" class="radio" value="{{ crunch }}" required />
                            <span>{{ crunch }}</span>
                        </label>
                    {% endfor %}
                    <ErrorHolder name="crunch" />

                    {# Core activities #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Core Activities <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>What do players spend most of their time doing in this one-shot?</p>
                            <p>How do they interact with the world and achieve their goals?</p>
                            <p>Try to pick only two or three things.</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="core_activities" name="core_activity" />
                    <ErrorHolder name="core_activity" />

                    {# Player Count #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Player Count <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>What's the minimum, optimal and maximum players your session can accomodate?</p>
                            <p></p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.multislider.MultisliderContainer
                        :min_value="1"
                        :max_value="7"
                        :display_titles="true"
                        :allow_more="true"
                    >
                        <forms.multislider.Multislider
                            title="Minimum"
                            input_name="player_count_minimum"
                            constrain_below="player_count_optimum"
                            value="2"
                        />
                        <forms.multislider.Multislider
                            title="Optimum"
                            input_name="player_count_optimum"
                            constrain_above="player_count_minimum"
                            constrain_below="player_count_maximum"
                            value="4"
                        />
                        <forms.multislider.Multislider
                            title="Maximum"
                            input_name="player_count_maximum"
                            constrain_above="player_count_optimum"
                            value="6"
                        />
                    </forms.multislider.MultisliderContainer>
                    <ErrorHolder name="player_count_minimum" />
                    <ErrorHolder name="player_count_optimum" />
                    <ErrorHolder name="player_count_maximum" />

                    {# Age suitability #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold"
                            >Age Suitabilty & Classification <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>If your game was a movie, what would be its rating?</p>
                            <p>
                                Note that R18 actually prevents players under 18 from joining the game. We expect most
                                submissions to be PG or M.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <div class="flex flex-row gap-4">
                        <Tooltip :toggleable="false">
                            <label
                                class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-full border-gray-500 bg-yellow-300 opacity-50"
                            >
                                <input type="radio" name="classification" class="hidden" value="PG" checked required />
                                <span class="block text-lg font-bold">PG</span>
                            </label>
                            <TooltipContent>
                                <p>Parental Guidance</p>
                                <p>
                                    Some material may not be suitable for children - but 13 is the minimum age at
                                    Convergence.
                                </p>
                            </TooltipContent>
                        </Tooltip>
                        <Tooltip :toggleable="false">
                            <label
                                class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-full border-gray-500 bg-yellow-300 opacity-50"
                            >
                                <input type="radio" name="classification" class="hidden" value="M" required />
                                <span class="block text-lg font-bold">M</span>
                            </label>
                            <TooltipContent>
                                <p>Mature</p>
                                <p>Content may be more suitable for older teens and adults.</p>
                            </TooltipContent>
                        </Tooltip>
                        <Tooltip :toggleable="false">
                            <label
                                class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-md border-gray-500 bg-red-500 opacity-50"
                            >
                                <input type="radio" name="classification" class="hidden" value="R18" required />
                                <span class="block text-lg font-bold">R18</span>
                            </label>
                            <TooltipContent>
                                <p>Restricted 18</p>
                                <p>Content is suitable only for adults. No one under 18 may join this game.</p>
                            </TooltipContent>
                        </Tooltip>
                    </div>
                    <ErrorHolder name="classification" />

                    {# Key Selling Points #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold">Bonuses <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>These are miscellaneous key selling points for your session or game.</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="ksps" name="ksp" :display_tooltips="false" />
                    <ErrorHolder name="ksp" />
                </fieldset>

                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box gap-4 border p-4">
                    <legend class="fieldset-legend">Scheduling Information</legend>
                    <span>
                        This information will be visible to the organisers so they can schedule the sessions where your
                        game is offered. You'll be able to edit this until the schedule is fixed prior to the event.
                    </span>

                    {# Times to run#}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold"
                            >How many times do you want to run this game? <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>Barring over-scheduling, you will likely run this session this many times.</p>
                            <p>
                                If you are submitting multiple games, keep that in mind - we only have five time slots
                                available! You get to choose how many times you want your game to run.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.multislider.MultisliderContainer
                        :min_value="1"
                        :max_value="event.time_slots|length"
                        :display_titles="false"
                        :allow_more="false"
                    >
                        <forms.multislider.Multislider title="Times" value="2" input_name="times_to_run" />
                    </forms.multislider.MultisliderContainer>
                    <ErrorHolder name="times_to_run" />

                    {# Available time slots #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label font-semibold"
                            >In which time slots could you run this game? <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>We will not schedule you outside of these time slots without contacting you to agree.</p>
                        </TooltipContent>
                    </Tooltip>
                    <span>Please be flexible and mark all time slots you could do</span>
                    {% for time_slot in event.time_slots %}
                        <label class="fieldset-label font-semibold">
                            <input
                                type="checkbox"
                                class="checkbox"
                                name="available_time_slot"
                                value="{{ swim(time_slot) }}"
                            />
                            <span>
                                {{ time_slot.name }}: {{ time_slot.start_time | nice_time_format }} -
                                {{ time_slot.end_time | nice_time_format }} ({{ time_slot.duration | humanize }})
                            </span>
                        </label>
                    {% endfor %}
                    <ErrorHolder name="available_time_slot" />

                    <label class="fieldset-label"
                        >Any extra notes/preferences to help with scheduling? <TooltipIcon
                    /></label>
                    <textarea class="textarea" name="scheduling_notes"></textarea>
                    <ErrorHolder name="scheduling_notes" />

                    {# Table Size Requirements #}
                    <label class="fieldset-label font-semibold">Table Size Requirements</label>
                    <FlagCheckboxes
                        :flag_enum="table_size_requirements"
                        name="table_size_requirement"
                        :display_tooltips="true"
                    />
                    <ErrorHolder name="table_size_requirement" />

                    <label class="fieldset-label">Any other notes on table size? </label>
                    <textarea class="textarea" name="table_size_notes"></textarea>
                    <ErrorHolder name="table_size_notes" />

                    {# Equipment Requirements #}
                    <label class="fieldset-label font-semibold">Equipment Requirements</label>
                    <FlagCheckboxes
                        :flag_enum="equipment_requirements"
                        name="equipment_requirement"
                        :display_tooltips="false"
                    />
                    <ErrorHolder name="equipment_requirement" />

                    <label>Any other notes on equipment?</label>
                    <textarea class="textarea" name="equipment_notes"></textarea>
                    <ErrorHolder name="equipment_notes" />

                    {# Activity Requirements #}
                    <label class="fieldset-label font-semibold">Activity Requirements</label>
                    <FlagCheckboxes
                        :flag_enum="activity_requirements"
                        name="activity_requirement"
                        :display_tooltips="false"
                    />
                    <ErrorHolder name="activity_requirement" />

                    <label class="fieldset-label">Any other notes on activities?</label>
                    <textarea class="textarea" name="activity_notes"></textarea>
                    <ErrorHolder name="activity_notes" />

                    {# Room Requirements #}
                    <label class="fieldset-label font-semibold">Room Requirements</label>
                    <FlagCheckboxes :flag_enum="room_requirements" name="room_requirement" :display_tooltips="false" />
                    <ErrorHolder name="room_requirement" />

                    <label class="fieldset-label">Any other notes on rooms?</label>
                    <textarea class="textarea" name="room_notes"></textarea>
                    <ErrorHolder name="room_notes" />
                </fieldset>

                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box gap-4 border p-4">
                    <legend class="fieldset-legend">Housekeeping</legend>
                    <label class="fieldset-label font-semibold">
                        <input type="checkbox" class="checkbox validator" required title="Required" />
                        <span>
                            I agree to the
                            <a class="link" href="https://www.waikatorpg.co.nz/policies-and-code-of-conduct">
                                Waikato RPG Code of Conduct
                            </a>
                        </span>
                        <p class="validator-hint">You must agree to the Waikato RPG Code of Conduct</p>
                    </label>
                    <label class="fieldset-label font-semibold">
                        <input type="checkbox" class="checkbox validator" required title="Required" />
                        <span>
                            I agree to the use of
                            <a class="link" href="https://www.waikatorpg.co.nz/safety-tools">
                                the X-Card and Open Table Policy
                            </a>
                        </span>
                        <p class="validator-hint">You must agree to use the X-Card and Open Table Policy</p>
                    </label>
                </fieldset>
                <button class="btn btn-primary" hx-post="/submit_game/{{ swim(event) }}">Submit</button>
            </form>
        </div>
    {% endblock %}
</Page>
