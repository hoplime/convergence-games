<Page>
    {% block content %}
        <title>Submit Game - Convergence 2025</title>
        <div>
            <h1 class="text-xl font-bold">Submit Game</h1>
            <form>
                <button type="submit" disabled class="hidden" aria-hidden="true"></button>
                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box border p-4">
                    <legend class="fieldset-legend">Game Information</legend>
                    <span>
                        This information will be publicly visible for players to decide their preferences. You'll be
                        able to edit this until shortly before the event.
                    </span>
                    {# Title #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Title <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Title of the game</p>
                            <p>e.g. "A Wild Sheep Chase" or "Gatsby and the Great Race"</p>
                        </TooltipContent>
                    </Tooltip>
                    <input type="text" class="input" placeholder="Title" name="title" required />
                    {# System #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">System <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Which RPG system does your one-shot use?</p>
                            <p>e.g. "Dungeons & Dragons 5e" or "Blades in the Dark"</p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.search.SearchContainer
                        name="system"
                        placeholder="Search for a system..."
                    ></forms.search.SearchContainer>
                    {# Tagline #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Tagline <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Up to 140 characters to grab attention.</p>
                            <p>
                                e.g. "The King is dead! And one of you did it. Will you betray the kingdom, or betray
                                your friends and find the killer?"
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <div class="flex items-center gap-4">
                        <input
                            type="text"
                            class="input"
                            placeholder="Tagline"
                            name="tagline"
                            maxlength="140"
                            required
                        />
                        <MaxLengthIndicator />
                    </div>
                    {# Description #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Description <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>A full description of your game.</p>
                            <p>
                                Include as much detail as you need, typically a few paragraphs. A good description sets
                                out the world, describes what players will be doing, anything special and unique about
                                the system and scenario, and gives players a fair idea of what the session might be
                                like.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <utilities.TipTap form_input_name="description" />
                    {# Genre #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Genres <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>What movie/book/game 'genres' describe your one-shot?</p>
                            <p>e.g. "Fantasy", "Cyberpunk", "Political Thriller"</p>
                            <p>Pick 1-5</p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.search_checks.SearchCheckContainer
                        name="genre"
                        placeholder="Search for genres..."
                    ></forms.search_checks.SearchCheckContainer>
                    {# Tone #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Tone <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Just a rough guide for the target tone of the game.</p>
                        </TooltipContent>
                    </Tooltip>
                    <div class="flex flex-col">
                        {% for tone in tones %}
                            <label>
                                <input type="radio" name="tone" class="radio" value="{{ tone }}" required />
                                <span>{{ tone }}</span>
                            </label>
                        {% endfor %}
                    </div>
                    {# Content warnings #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Content Warnings <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>
                                There may be content in your game which are common phobias, or more horrific/mature
                                themes. Make sure you note anything you know may come up so people join games where they
                                are comfortable.
                            </p>
                            <p>
                                Convergence will be using the X card and open table policy, by submitting you agree to
                                use these two safety tools at minimum.
                            </p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.search_checks.SearchCheckContainer
                        name="content_warning"
                        placeholder="Search for content warnings..."
                    ></forms.search_checks.SearchCheckContainer>
                    {# Crunch/weight #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Complexity <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>Read more info for an explanation of the complexity scale</p>
                        </TooltipContent>
                    </Tooltip>
                    <Collapse>
                        <CollapseTitle>More Info</CollapseTitle>
                        <CollapseContent class="flex flex-col gap-4">
                            <!-- prettier-ignore-start -->
                            <h1 class="font-semibold">How much complexity does your session present for players? Consider:</h2>
                            <ul class="list-disc pl-4">
                                <li>How long does it take for a new player to understand the core rules?</li>
                                <li>How much reference material do players need?</li>
                                <li>How much additional complexity (rules, mechanics, options) will emerge during play?</li>
                            </ul>

                            <h1 class="font-semibold">Use this scale to rate your game:</h1>

                            <h2 class="font-semibold">Nearly Nothing</h2>
                            <ul class="list-disc pl-4">
                                <li>No explanation needed, or takes under a minute to grasp.</li>
                                <li>Players need no reference materials.</li>
                                <li>Mechanics are extremely minimal, such as a single rule (e.g., “Roll a d6, 5-6 = success”).</li>
                                <li>No character sheets or only the simplest notes.</li>
                            </ul>
                            <ul>Examples: Freeform roleplay, single-die resolution without modifiers.</ul>

                            <h2 class="font-semibold">Light</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes 1-5 minutes to explain.</li>
                                <li>Players may need a small reference (e.g., a simple cheat sheet or note card).</li>
                                <li>Uses a single resolution mechanic with minimal stats.</li>
                                <li>Character sheets are small, typically a few attributes or keywords.</li>
                            </ul>
                            <i>Examples: Honey Heist, Wanderhome, many one-page RPGs.</i>

                            <h2 class="font-semibold">Medium</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes up to 10 minutes to teach.</li>
                                <li>Players may need a one-page reference sheet.</li>
                                <li>Mechanics may involve multiple dice types, a multi-step resolution process, or stats that modify rolls.</li>
                                <li>Character sheets may have several attributes, skills, or equipment that matter in play.</li>
                                <li>Occasional rule lookups may be needed.</li>
                            </ul>
                            <i>Examples: Call of Cthulhu 7e, Mörk Borg, many PbtA (Powered by the Apocalypse), many OSR (Old School Renaissance) games.</i>

                            <h2 class="font-semibold">Heavy</h2>
                            <ul class="list-disc pl-4">
                                <li>Takes 10+ minutes to explain, or assumes prior RPG knowledge.</li>
                                <li>Players may need multiple pages of reference material.</li>
                                <li>Mechanics involve multiple types of rolls, modifiers, and conditions.</li>
                                <li>Character sheets contain many stats, abilities, and equipment options.</li>
                                <li>Rule lookups and referencing mechanics are common during play.</li>
                            </ul>
                            <i>Examples: Dungeons & Dragons 5e, Pathfinder 2e.</i>

                            <h2 class="font-semibold">Extra heavy</h2>
                            <ul class="list-disc pl-4">
                                <li>Learning the system may require dedicated reading or prior experience with RPGs.</li>
                                <li>Players may need multi-page reference sheets or books at the table.</li>
                                <li>Character sheets are complex, often with multiple interconnected stats, abilities, and systems.</li>
                                <li>Resolution mechanics can be intricate, requiring extended rule lookups or calculations.</li>
                                <li>Games may include deep subsystems (e.g., crafting, downtime, detailed combat maneuvers) that add significant decision-making overhead.</li>
                            </ul>
                            <i>Examples: Shadowrun (various editions), Rolemaster, GURPS (with full options), Phoenix Command, Pathfinder with extensive supplements.</i>
                            <!-- prettier-ignore-end -->
                        </CollapseContent>
                    </Collapse>
                    <div class="flex flex-col">
                        {% for crunch in crunches %}
                            <label>
                                <input type="radio" name="crunch" class="radio" value="{{ crunch }}" required />
                                <span>{{ crunch }}</span>
                            </label>
                        {% endfor %}
                    </div>
                    {# Core activities #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Core Activities <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>What do players spend most of their time doing in this one-shot?</p>
                            <p>How do they interact with the world and achieve their goals?</p>
                            <p>Try to pick only two or three things.</p>
                        </TooltipContent>
                    </Tooltip>
                    <div class="flex flex-col">
                        <label>
                            <input type="checkbox" name="core" value="roleplaying" class="checkbox" />
                            <span>Role-play</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="combat" class="checkbox" />
                            <span>Combat</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="exploration" class="checkbox" />
                            <span>Exploration</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="puzzle" class="checkbox" />
                            <span>Puzzles</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="social" class="checkbox" />
                            <span>Social</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="investigation" class="checkbox" />
                            <span>Investigation / Solving Mysteries</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="romance" class="checkbox" />
                            <span>Romance</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="stealth" class="checkbox" />
                            <span>Stealth / Infiltration</span>
                        </label>
                        <label>
                            <input type="checkbox" name="core" value="moral-dilemma" class="checkbox" />
                            <span>Moral Dilemmas</span>
                        </label>
                    </div>
                    {# <div class="flex flex-col">
                        {% for narrativism in narrativisms %}
                            <label>
                                <input
                                    type="radio"
                                    name="narrativism"
                                    class="radio"
                                    value="{{ narrativism }}"
                                    required
                                />
                                <span>{{ narrativism }}</span>
                            </label>
                        {% endfor %}
                    </div> #}
                    {# Player Count #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Player Count <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.multislider.MultisliderContainer
                        :min_value="1"
                        :max_value="7"
                        :display_titles="true"
                        :allow_more="true"
                    >
                        <forms.multislider.Multislider
                            title="Minimum"
                            input_name="player_count_minimum"
                            constrain_below="player_count_optimum"
                            value="2"
                        />
                        <forms.multislider.Multislider
                            title="Optimum"
                            input_name="player_count_optimum"
                            constrain_above="player_count_minimum"
                            constrain_below="player_count_maximum"
                            value="4"
                        />
                        <forms.multislider.Multislider
                            title="Maximum"
                            input_name="player_count_maximum"
                            constrain_above="player_count_optimum"
                            value="6"
                        />
                    </forms.multislider.MultisliderContainer>
                    {# Age suitability #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Age Suitabilty & Classification <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <div class="flex flex-row gap-4">
                        <label
                            class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-full border-gray-500 bg-yellow-300 opacity-50"
                        >
                            <input type="radio" name="classification" class="hidden" value="PG" checked required />
                            <span class="block text-lg font-bold">PG</span>
                        </label>
                        <label
                            class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-full border-gray-500 bg-yellow-300 opacity-50"
                        >
                            <input type="radio" name="classification" class="hidden" value="M" required />
                            <span class="block text-lg font-bold">M</span>
                        </label>
                        <label
                            class="has-checked:border-2 has-checked:opacity-100 flex h-12 w-12 items-center justify-center rounded-md border-gray-500 bg-red-500 opacity-50"
                        >
                            <input type="radio" name="classification" class="hidden" value="R18" required />
                            <span class="block text-lg font-bold">R18</span>
                        </label>
                    </div>

                    {# Key Selling Points #}
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Bonuses <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="ksps" name="ksp" />
                    {# Anything else? #}
                </fieldset>

                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box border p-4">
                    <legend class="fieldset-legend">Scheduling Information</legend>
                    <span>
                        This information will be visible to the organisers so they can schedule the sessions where your
                        game is offered. You'll be able to edit this until the schedule is fixed prior to the event.
                    </span>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label"
                            >How many times do you want to run this game? <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <forms.multislider.MultisliderContainer
                        :min_value="1"
                        :max_value="event.time_slots|length"
                        :display_titles="false"
                        :allow_more="false"
                    >
                        <forms.multislider.Multislider title="Times" value="2" input_name="times_to_run" />
                    </forms.multislider.MultisliderContainer>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label"
                            >In which time slots could you run this game? <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <span>Please be flexible and mark all time slots you could do</span>
                    {% for time_slot in event.time_slots %}
                        <label class="fieldset-label">
                            <input
                                type="checkbox"
                                class="checkbox"
                                name="available_time_slot"
                                value="{{ swim(time_slot) }}"
                            />
                            <span>
                                {{ time_slot.name }}: {{ time_slot.start_time | nice_time_format }} -
                                {{ time_slot.end_time | nice_time_format }}
                            </span>
                        </label>
                    {% endfor %}

                    <Tooltip class="w-fit">
                        <label class="fieldset-label"
                            >Any extra notes/preferences to help with scheduling? <TooltipIcon
                        /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <textarea class="textarea" name="scheduling_notes"></textarea>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Table Size Requirements <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="table_size_requirements" name="table_size_requirement" />
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Any other notes on table size? <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <textarea class="textarea" name="table_size_notes"></textarea>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Equipment Requirements <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="equipment_requirements" name="equipment_requirement" />
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Any other notes on equipment? <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <textarea class="textarea" name="equipment_notes"></textarea>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Activity Requirements <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="activity_requirements" name="activity_requirement" />
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Any other notes on activities? <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <textarea class="textarea" name="activity_notes"></textarea>

                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Room Requirements <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <FlagCheckboxes :flag_enum="room_requirements" name="room_requirement" />
                    <Tooltip class="w-fit">
                        <label class="fieldset-label">Any other notes on rooms? <TooltipIcon /></label>
                        <TooltipContent class="text-left">
                            <p>TTL1</p>
                            <p>TTL2</p>
                        </TooltipContent>
                    </Tooltip>
                    <textarea class="textarea" name="room_notes"></textarea>
                </fieldset>

                <fieldset class="fieldset bg-base-200 border-base-300 rounded-box border p-4">
                    <legend class="fieldset-legend">Housekeeping</legend>
                    <label class="fieldset-label">
                        <input type="checkbox" class="checkbox validator" required title="Required" />
                        <span>I agree to the <a class="link" href="TODO">Waikato RPG Code of Conduct</a></span>
                        <p class="validator-hint">You must agree to the Waikato RPG Code of Conduct</p>
                    </label>
                </fieldset>
                <button class="btn btn-primary" hx-post="/submit_game/{{ swim(event) }}">Submit</button>
            </form>
        </div>
    {% endblock %}
</Page>
